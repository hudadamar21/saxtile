(function(e){function t(t){for(var o,a,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);m&&m(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},i={app:0},r=[];function c(e){return s.p+"js/"+({archives:"archives",auth:"auth",collections:"collections",components:"components",home:"home",main:"main",setting:"setting",file:"file",text:"text"}[e]||e)+"."+{archives:"c1c7cb25",auth:"22c72c73","chunk-2d0e5e97":"92f6a0f1",collections:"c0373b3c",components:"d6677925",home:"bea73791",main:"bef3a2b3",setting:"ae82eea2",file:"68d4d379",text:"d7754e55","chunk-2d0bceb2":"0ff8fd1a","chunk-25bd43a6":"7464da4b","chunk-2d0b671b":"0e1b1484"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={auth:1,collections:1,components:1,home:1,main:1,setting:1,file:1,"chunk-25bd43a6":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var o="css/"+({archives:"archives",auth:"auth",collections:"collections",components:"components",home:"home",main:"main",setting:"setting",file:"file",text:"text"}[e]||e)+"."+{archives:"31d6cfe0",auth:"bfbf0438","chunk-2d0e5e97":"31d6cfe0",collections:"a5c67e9b",components:"fe8c6866",home:"6fcae982",main:"9a876745",setting:"393485b7",file:"1290cc27",text:"31d6cfe0","chunk-2d0bceb2":"31d6cfe0","chunk-25bd43a6":"1a786c56","chunk-2d0b671b":"31d6cfe0"}[e]+".css",i=s.p+o,r=document.getElementsByTagName("link"),c=0;c<r.length;c++){var u=r[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===i))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===o||l===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var o=t&&t.target&&t.target.src||i,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete a[e],m.parentNode.removeChild(m),n(r)},m.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){a[e]=0})));var o=i[e];if(0!==o)if(o)t.push(o[2]);else{var r=new Promise((function(t,n){o=i[e]=[t,n]}));t.push(o[2]=r);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,n[1](d)}i[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/saxtile/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var o=n("2b0e"),a=n("9483");Object(a["a"])("".concat("/saxtile/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("a2f0"),n("b0c0");var i=n("2f62"),r=(n("45fc"),n("d3b7"),n("8c4f"));o["a"].use(r["a"]);var c=[{path:"*",component:function(){return n.e("chunk-2d0e5e97").then(n.bind(null,"9703"))}},{path:"/",name:"home",component:function(){return n.e("home").then(n.bind(null,"bb51"))},meta:{hideForAuth:!0}},{path:"/auth",name:"auth",component:function(){return n.e("auth").then(n.bind(null,"b73b"))},meta:{hideForAuth:!0}},{path:"/:userId",name:"main",component:function(){return n.e("main").then(n.bind(null,"dd81"))},meta:{requiresAuth:!0}},{path:"/:userId/collections",name:"collections",component:function(){return n.e("collections").then(n.bind(null,"a461"))},meta:{requiresAuth:!0}},{path:"/:userId/archives",name:"archives",component:function(){return n.e("archives").then(n.bind(null,"dc0a"))},meta:{requiresAuth:!0}},{path:"/:userId/setting",name:"setting",component:function(){return n.e("setting").then(n.bind(null,"8930"))},meta:{requiresAuth:!0}}],s=new r["a"]({mode:"history",base:"/saxtile/",routes:c});s.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresAuth}))?S.state.user.uid?n():n({name:"auth"}):n(),e.matched.some((function(e){return e.meta.hideForAuth}))&&S.state.user.uid?n({name:"main",params:{userId:S.state.user.uid}}):n()}));var u=s,l=(n("ac1f"),n("1276"),n("260b")),d=(n("ea7b"),n("e71f"),{namespaced:!0,state:function(){return{uid:"",username:"",email:"",displayName:""}},getters:{userRef:function(e){var t=l["a"].auth().currentUser.uid;return t===e.uid&&l["a"].firestore().collection("users").doc(e.uid)},userId:function(e){return e.uid}},mutations:{SET_USER:function(e,t){var n=t.uid,o=t.email,a=t.displayName;e.uid=n,e.email=o,e.displayName=a}},actions:{ValidationUser:function(e,t){var n=e.getters,o=e.dispatch;n.userRef?t():(o("showAlert",{message:"Terjadi kesalahan, silahkan login kembali",mode:"danger"},{root:!0}),o("user/Logout",null,{root:!0}))},Login:function(e,t){var n=e.dispatch,o=e.commit,a=t.email,i=t.password;o("SET_LOADING",!0,{root:!0}),l["a"].auth().signInWithEmailAndPassword(a,i).then((function(e){o("SET_USER",e.user),u.push({name:"main",params:e.user.uid}),o("SET_LOADING",!1,{root:!0}),n("showAlert",{message:"You're login to Saxtile"},{root:!0})})).catch((function(e){o("SET_LOADING",!1,{root:!0}),n("showAlert",{message:e.message,mode:"danger"},{root:!0})}))},Register:function(e,t){var n=e.dispatch,o=e.commit,a=t.name,i=t.email,r=t.password;o("SET_LOADING",!0,{root:!0}),l["a"].auth().createUserWithEmailAndPassword(i,r).then((function(){var e=l["a"].auth().currentUser;e.updateProfile({displayName:a}).then((function(){return o("SET_USER",e)}));var t=i.split("@")[0];l["a"].firestore().collection("users").doc(e.uid).set({email:i,username:t,displayName:a,createdAt:(new Date).getTime()}),n("showAlert",{message:"Register success, Welcome to Saxtile"},{root:!0}),o("SET_LOADING",!1,{root:!0})})).catch((function(e){n("showAlert",{message:"Error: "+e.message,mode:"danger"},{root:!0}),o("SET_LOADING",!1,{root:!0})}))},Logout:function(e){var t=e.commit,n=e.dispatch;l["a"].auth().signOut(),t("SET_USER",{uid:"",email:"",displayName:null}),n("showAlert",{message:"You're logout, goodbye"},{root:!0}),u.push({name:"auth"})}}}),m=(n("d81d"),n("dca8"),n("96cf"),n("1da1")),f={namespaced:!0,state:function(){return{lists:[],input:{title:"",content:""},loadingList:null,showOption:null,updateTextId:null,isUpdate:!1,validation:null}},mutations:{SET_LISTS:function(e,t){e.lists=t.map((function(e){return Object.freeze(e)}))},SET_LOADING:function(e,t){e.loadingList=t},SET_INPUT:function(e,t){e.input=t},SET_IS_UPDATE:function(e,t){e.isUpdate=t},SET_SHOW_OPTION:function(e,t){e.showOption=t},SET_UPDATE_TEXT_ID:function(e,t){e.updateTextId=t},SET_VALIDATION:function(e,t){e.validation=t}},actions:{List:function(e){var t=e.commit,n=e.dispatch;t("SET_LOADING",!0),n("firebase_actions/GetDocument",{collection_name:"text",callback:function(e){t("SET_LISTS",e),t("SET_LOADING",!1)}},{root:!0})},Save:function(e,t){var n=e.dispatch;n("firebase_actions/SaveDocument",{collection_name:"text",data:t,messageOnComplete:"Text Berhasil di Simpan"},{root:!0})},Update:function(e,t){var n=e.dispatch,o=e.state;n("firebase_actions/UpdateDocument",{collection_name:"text",updateText:t,id:o.updateTextId,messageOnComplete:"Text Berhasil di Update"},{root:!0})},Delete:function(e,t){var n=e.dispatch;n("firebase_actions/DeleteDocument",{collection_name:"text",id:t,messageOnComplete:"Text Berhasil di Hapus"},{root:!0})},Archive:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var o,a,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=e.dispatch,a=e.rootGetters,i=t.id,r=t.status,o("firebase_actions/UpdateDocument",{collection_name:"text",id:i,updateText:{archived:r},messageOnComplete:a.messageOnArchives("Text")},{root:!0});case 3:case"end":return n.stop()}}),n)})))()}}},p={namespaced:!0,state:function(){return{lists:[],loading:!1,show_form_modal:!1,open_collection:!1,collection_data:null,is_update:!1}},mutations:{SET_LISTS:function(e,t){e.lists=t},SET_LOADING:function(e,t){e.loading=t},SET_SHOW_FORM_MODAL:function(e,t){e.show_form_modal=t},SET_OPEN_COLLECTION:function(e,t){e.open_collection=t},SET_COLLECTION_DATA:function(e,t){e.collection_data=t},SET_IS_UPDATE:function(e,t){e.is_update=t}},actions:{List:function(e){var t=e.commit,n=e.dispatch;t("SET_LOADING",!0),n("firebase_actions/GetDocument",{collection_name:"text_collection",callback:function(e){t("SET_LISTS",e),t("SET_LOADING",!1)}},{root:!0})},Save:function(e,t){var n=e.dispatch;n("firebase_actions/SaveDocument",{collection_name:"text_collection",data:t,messageOnComplete:"Text Berhasil di Simpan"},{root:!0})},Update:function(e,t){var n=e.dispatch,o=t.id,a=t.data;n("firebase_actions/UpdateDocument",{collection_name:"text_collection",updateText:a,id:o,messageOnComplete:"Text Berhasil di Update"},{root:!0})},Delete:function(e,t){var n=e.dispatch,o=e.commit;n("firebase_actions/DeleteDocument",{collection_name:"text_collection",id:t,messageOnComplete:"Text Berhasil di Hapus"},{root:!0}),o("SET_OPEN_COLLECTION",!1),o("SET_COLLECTION_DATA",null)},Archive:function(e,t){var n=e.dispatch,o=e.rootGetters,a=t.id,i=t.status;n("firebase_actions/UpdateDocument",{collection_name:"text_collection",id:a,updateText:{archived:i},messageOnComplete:o.messageOnArchives("Text")},{root:!0})}}},h={namespaced:!0,state:function(){return{lists:[],filename:"",file_upload:"",progress_upload:0,loading_list:null,show_option:null}},mutations:{SET_LISTS:function(e,t){e.lists=t.map((function(e){return Object.freeze(e)}))},SET_LOADING:function(e,t){e.loading_list=t},SET_FILENAME:function(e,t){e.filename=t},SET_FILE_UPLOAD:function(e,t){e.file_upload=t},SET_SHOW_OPTION:function(e,t){e.show_option=t},SET_PROGRESS_UPLOAD:function(e,t){e.progress_upload=t}},actions:{List:function(e){var t=e.commit,n=e.dispatch;t("SET_LOADING",!0),n("firebase_actions/GetDocument",{collection_name:"file",callback:function(e){t("SET_LISTS",e),t("SET_LOADING",!1)}},{root:!0})},Upload:function(e,t){var n=e.dispatch,o=t.filename,a=t.file;n("firebase_actions/UploadFile",{collection_name:"file",filename:o,file:a},{root:!0})},Delete:function(e,t){var n=e.dispatch,o=t.title,a=t.id;n("firebase_actions/DeleteFile",{collection_name:"file",title:o,id:a,messageOnComplete:"File Berhasil di Hapus"},{root:!0})},Archive:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var o,a,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=e.dispatch,a=e.rootGetters,i=t.id,r=t.status,o("firebase_actions/UpdateDocument",{collection_name:"file",id:i,updateText:{archived:r},messageOnComplete:a.messageOnArchives("File")},{root:!0});case 3:case"end":return n.stop()}}),n)})))()}}},_=(n("4160"),n("159b"),n("5530")),g=(n("588e"),{namespaced:!0,actions:{GetDocument:function(e,t){var n=e.rootGetters,o=e.rootState,a=e.dispatch,i=t.collection_name,r=t.callback;a("user/ValidationUser",(function(){var e=o.app_setting.orderBy,t=e.property,a=e.type;n["user/userRef"].collection(i).orderBy(t,a).onSnapshot((function(e){var t=[];e.forEach((function(e){return t.push(Object(_["a"])(Object(_["a"])({},e.data()),{},{id:e.id}))})),r(t)}))}),{root:!0})},SaveDocument:function(e,t){var n=e.rootGetters,o=e.dispatch,a=t.collection_name,i=t.data,r=t.messageOnComplete;o("user/ValidationUser",(function(){n["user/userRef"].collection(a).add(i).then((function(){o("showAlert",{message:r},{root:!0})})).catch((function(e){o("showAlert",{message:e.message,mode:"danger"},{root:!0})}))}),{root:!0})},UpdateDocument:function(e,t){var n=e.rootGetters,o=e.dispatch,a=t.collection_name,i=t.id,r=t.updateText,c=t.messageOnComplete;o("user/ValidationUser",(function(){n["user/userRef"].collection(a).doc(i).update(r).then((function(){o("showAlert",{message:c},{root:!0})})).catch((function(e){o("showAlert",{message:e.message,mode:"danger"},{root:!0})}))}),{root:!0})},DeleteDocument:function(e,t){var n=e.rootGetters,o=e.dispatch,a=t.collection_name,i=t.id,r=t.messageOnComplete;o("user/ValidationUser",(function(){n["user/userRef"].collection(a).doc(i).delete().then((function(){return o("showAlert",{message:r},{root:!0})})).catch((function(e){o("showAlert",{message:e.message,mode:"danger"},{root:!0})}))}),{root:!0})},UploadFile:function(e,t){var n=e.commit,o=e.dispatch,a=t.collection_name,i=t.filename,r=t.file,c=l["a"].auth().currentUser.uid,s=l["a"].storage().ref(c),u=s.child(i).put(r);u.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;n("".concat(a,"/SET_PROGRESS_UPLOAD"),parseInt(t),{root:!0})}),(function(e){o("showAlert",{message:e.message,mode:"danger"},{root:!0})}),(function(){u.snapshot.ref.getDownloadURL().then((function(e){n("".concat(a,"/SET_PROGRESS_UPLOAD"),0,{root:!0});var t={title:i,content:e,archived:!1,date:(new Date).getTime()};o("SaveDocument",{collection_name:a,data:t,messageOnComplete:"File Berhasil di Simpan"})}))}))},DeleteFile:function(e,t){var n=e.dispatch,o=e.rootGetters,a=t.collection_name,i=t.title,r=t.id,c=t.messageOnComplete;n("user/ValidationUser",(function(){l["a"].storage().ref(o["user/userId"]).child(i).delete().then((function(){n("DeleteDocument",{collection_name:a,id:r,messageOnComplete:c})})).catch((function(e){n("showAlert",{message:e.message,mode:"danger"},{root:!0})}))}),{root:!0})}}}),T={namespaced:!0,state:function(){return{orderBy:{property:"date",type:"desc"}}},mutations:{SET_SETTING:function(e,t){t},SET_ORDER_BY:function(e,t){e.orderBy=t}}};o["a"].use(i["a"]);var S=new i["a"].Store({state:{menu:!1,loading:!1,alert:{message:"",mode:""}},getters:{messageOnArchives:function(){return function(e){return"archives"===u.currentRoute.name?e+" Berhasil dikeluarkan dari Archive":e+" Berhasil dimasukan kedalam Archive"}}},mutations:{TOGGLE_MENU:function(e){e.menu=!e.menu},SET_MENU:function(e,t){e.menu=t},SET_LOADING:function(e,t){e.loading=t},SET_SHOW_ALERT:function(e,t){e.alert=t}},actions:{showAlert:function(e,t){var n=e.commit,o=t.message,a=t.mode,i=void 0===a?"info":a,r=t.duration,c=void 0===r?3e3:r;n("SET_SHOW_ALERT",{message:o,mode:i}),setTimeout((function(){n("SET_SHOW_ALERT",{message:"",mode:""})}),c)}},modules:{app_setting:T,firebase_actions:g,user:d,text:f,text_collection:p,file:h}}),b={apiKey:"AIzaSyDqbkEH4F_LxTivsT5B1UXN0unn_-XLDPg",authDomain:"saxtile.firebaseapp.com",databaseURL:"https://saxtile.firebaseio.com",projectId:"saxtile",storageBucket:"saxtile.appspot.com",messagingSenderId:"1069489785279",appId:"1:1069489785279:web:d2bb4d3f72482b0338f90a",measurementId:"G-3HQRV79B83"};l["a"].initializeApp(b),l["a"].firestore().settings({cacheSizeBytes:l["a"].firestore.CACHE_SIZE_UNLIMITED}),l["a"].firestore().enablePersistence().catch((function(e){"unimplemented"==e.code&&alert("Brower not support offline Webapp")}));n("aab4");var v=n("4eb5"),E=n.n(v);E.a.config.autoSetContainer=!0,o["a"].use(E.a);var O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.$store.state.alert.message?n("div",{staticClass:"fixed top-0 right-0 z-50 m-5"},[n("Alert",{attrs:{mode:e.$store.state.alert.mode,message:e.$store.state.alert.message,animation:"opacity"}})],1):e._e(),n("transition",{attrs:{name:"opacity"}},[e.$store.state.menu?n("div",{staticClass:"fixed inset-0 bg-black bg-opacity-30 z-40",on:{click:function(t){return e.$store.commit("SET_MENU",!1)}}}):e._e()]),n("transition",{attrs:{name:"sidebar"}},[e.$store.state.menu?n("MenuSidebar"):e._e()],1),n("TextCollectionModals"),n("router-view")],1)},A=[],D={components:{Alert:function(){return n.e("components").then(n.bind(null,"98ab"))},MenuSidebar:function(){return n.e("components").then(n.bind(null,"e7a4"))},TextCollectionModals:function(){return n.e("components").then(n.bind(null,"1120"))}},mounted:function(){var e=JSON.parse(localStorage.getItem("darkmode"));e?document.querySelector("body").classList.add("dark"):document.querySelector("body").classList.remove("dark")},methods:Object(_["a"])(Object(_["a"])({},Object(i["c"])("text",["SET_INPUT","SET_IS_UPDATE","SET_SHOW_OPTION","SET_UPDATE_TEXT_ID"])),Object(i["c"])("file",["SET_FILENAME","SET_FILE_UPLOAD"])),watch:{$route:function(e,t){"main"!==t.name&&"archives"!==t.name||(this.SET_INPUT({title:"",content:""}),this.SET_IS_UPDATE(!1),this.SET_SHOW_OPTION(null),this.SET_UPDATE_TEXT_ID(null),this.SET_FILENAME(""),this.SET_FILE_UPLOAD(""),this.$store.commit("file/SET_SHOW_OPTION",null))}}},I=D,L=n("2877"),w=Object(L["a"])(I,O,A,!1,null,null,null),x=w.exports;function y(e){var t=e.$options.title;if(t)return"function"===typeof t?t.call(e):t}var N={created:function(){var e=y(this);e&&(document.title=e)}};o["a"].config.productionTip=!1,o["a"].mixin(N),l["a"].auth().onAuthStateChanged((function(e){e?S.commit("user/SET_USER",e):console.log("user belum login"),new o["a"]({store:S,router:u,render:function(e){return e(x)}}).$mount("#app")}))},a2f0:function(e,t,n){},aab4:function(e,t,n){n("99af"),n("d3b7"),n("25f0"),window.Date.prototype.formatDate=function(e){var t=new Date(e),n=t.getHours(),o=t.getMinutes(),a=t.getUTCDate(),i=t.getMonth()+1,r=t.getFullYear(),c=function(e){return 1==e.toString().length?"0"+e:e};return"".concat(c(n),":").concat(c(o)," | ").concat(c(a),"-").concat(c(i),"-").concat(r)}}});
//# sourceMappingURL=app.da4a97f2.js.map